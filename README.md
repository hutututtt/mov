# åœ¨çº¿ç”µå½±è§‚çœ‹å¹³å°

ä¸€ä¸ªåŸºäºWebçš„åœ¨çº¿ç”µå½±è§‚çœ‹å¹³å°ï¼Œæ”¯æŒå¤šç§è§†é¢‘æ ¼å¼æ’­æ”¾ï¼ŒåŒ…æ‹¬MP4å’ŒM3U8æµåª’ä½“ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¬ çƒ­é—¨ç”µå½±æ¨è
- ğŸ” ç”µå½±åˆ†ç±»æµè§ˆ
- ğŸ“± å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯
- ğŸ¥ å¤šç§æ’­æ”¾æºæ”¯æŒ
- ğŸ”’ å®‰å…¨çš„å†…å®¹å®‰å…¨ç­–ç•¥
- âš¡ å¿«é€ŸåŠ è½½å’Œæµç•…æ’­æ”¾

## æŠ€æœ¯æ ˆ

- **åç«¯**: Node.js + Express
- **å‰ç«¯**: åŸç”ŸJavaScript + EJSæ¨¡æ¿
- **æ ·å¼**: CSS3 + å“åº”å¼è®¾è®¡
- **æ’­æ”¾å™¨**: HLS.js (æ”¯æŒM3U8æµåª’ä½“)
- **API**: åŸºäºæŠ“åŒ…åˆ†æçš„ç¬¬ä¸‰æ–¹API

## å¿«é€Ÿå¼€å§‹

### ğŸš€ ä¸€é”®éƒ¨ç½²ï¼ˆæ¨èå›½å†…ç”¨æˆ·ï¼‰

#### æ–¹æ¡ˆ1ï¼šRailway éƒ¨ç½²
[![Deploy on Railway](https://railway.app/button.svg)](https://railway.app/new/template?template=https://github.com/æ‚¨çš„ç”¨æˆ·å/movie-streaming-platform)

#### æ–¹æ¡ˆ2ï¼šRender éƒ¨ç½²
[![Deploy to Render](https://render.com/images/deploy-to-render-button.svg)](https://render.com/deploy?repo=https://github.com/æ‚¨çš„ç”¨æˆ·å/movie-streaming-platform)

#### æ–¹æ¡ˆ3ï¼šè…¾è®¯äº‘å¼€å‘
1. è®¿é—® [è…¾è®¯äº‘å¼€å‘æ§åˆ¶å°](https://console.cloud.tencent.com/tcb)
2. åˆ›å»ºäº‘å‡½æ•°
3. ä¸Šä¼ ä»£ç å¹¶éƒ¨ç½²

### ğŸŒ Vercel éƒ¨ç½²ï¼ˆéœ€è¦ç¿»å¢™ï¼‰
[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https://github.com/æ‚¨çš„ç”¨æˆ·å/movie-streaming-platform)

### ğŸ’» æœ¬åœ°å¼€å‘

#### ç¯å¢ƒè¦æ±‚
- Node.js 14.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- npm æˆ– yarn

#### å®‰è£…æ­¥éª¤

1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/æ‚¨çš„ç”¨æˆ·å/movie-streaming-platform.git
cd movie-streaming-platform
```

2. å®‰è£…ä¾èµ–
```bash
npm install
```

3. å¯åŠ¨æœåŠ¡å™¨
```bash
npm start
```

4. æ‰“å¼€æµè§ˆå™¨è®¿é—®
```
http://localhost:3000
```

#### å¼€å‘æ¨¡å¼
```bash
npm run dev
```

## ğŸŒ éƒ¨ç½²æŒ‡å—

### Railway éƒ¨ç½²ï¼ˆæ¨èï¼‰
1. ç‚¹å‡»ä¸Šé¢çš„ Railway æŒ‰é’®
2. è¿æ¥ GitHub è´¦å·
3. é€‰æ‹©ä»“åº“
4. ç­‰å¾…è‡ªåŠ¨éƒ¨ç½²
5. è·å¾— `https://xxx.railway.app` è®¿é—®é“¾æ¥

### Render éƒ¨ç½²
1. è®¿é—® [Render](https://render.com)
2. æ³¨å†Œè´¦å·å¹¶è¿æ¥ GitHub
3. é€‰æ‹© "New Web Service"
4. é€‰æ‹©æ‚¨çš„ä»“åº“
5. é…ç½®ï¼š
   - Build Command: `npm install`
   - Start Command: `npm start`
6. ç‚¹å‡» "Create Web Service"

### è…¾è®¯äº‘å¼€å‘éƒ¨ç½²
1. è®¿é—® [è…¾è®¯äº‘å¼€å‘æ§åˆ¶å°](https://console.cloud.tencent.com/tcb)
2. åˆ›å»ºç¯å¢ƒ
3. è¿›å…¥äº‘å‡½æ•°ç®¡ç†
4. åˆ›å»ºäº‘å‡½æ•°ï¼Œé€‰æ‹© Node.js 12.16
5. ä¸Šä¼ é¡¹ç›®ä»£ç 
6. é…ç½®è§¦å‘å™¨ä¸º HTTP è§¦å‘å™¨
7. éƒ¨ç½²å¹¶è·å–è®¿é—®åœ°å€

### é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—
1. è®¿é—® [é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—æ§åˆ¶å°](https://fc.console.aliyun.com)
2. åˆ›å»ºæœåŠ¡
3. åˆ›å»ºå‡½æ•°ï¼Œé€‰æ‹© Node.js è¿è¡Œæ—¶
4. ä¸Šä¼ ä»£ç åŒ…
5. é…ç½® HTTP è§¦å‘å™¨
6. éƒ¨ç½²å¹¶è·å–è®¿é—®åœ°å€

## ğŸ–¥ï¸ æœåŠ¡å™¨éƒ¨ç½²

### æ–¹æ¡ˆ1ï¼šDocker éƒ¨ç½²ï¼ˆæ¨èï¼‰

#### ä½¿ç”¨ Docker Compose
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/æ‚¨çš„ç”¨æˆ·å/movie-streaming-platform.git
cd movie-streaming-platform

# å¯åŠ¨æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

#### ä½¿ç”¨ Docker
```bash
# æ„å»ºé•œåƒ
docker build -t movie-streaming-platform .

# è¿è¡Œå®¹å™¨
docker run -d -p 3000:3000 --name movie-app movie-streaming-platform

# æŸ¥çœ‹çŠ¶æ€
docker ps
```

### æ–¹æ¡ˆ2ï¼šPM2 è¿›ç¨‹ç®¡ç†

#### å®‰è£… PM2
```bash
npm install -g pm2
```

#### éƒ¨ç½²æ­¥éª¤
```bash
# 1. å…‹éš†é¡¹ç›®åˆ°æœåŠ¡å™¨
git clone https://github.com/æ‚¨çš„ç”¨æˆ·å/movie-streaming-platform.git
cd movie-streaming-platform

# 2. å®‰è£…ä¾èµ–
npm install --production

# 3. å¯åŠ¨åº”ç”¨
pm2 start ecosystem.config.js --env production

# 4. è®¾ç½®å¼€æœºè‡ªå¯
pm2 startup
pm2 save
```

#### PM2 å¸¸ç”¨å‘½ä»¤
```bash
# æŸ¥çœ‹åº”ç”¨çŠ¶æ€
pm2 status

# æŸ¥çœ‹æ—¥å¿—
pm2 logs movie-streaming-platform

# é‡å¯åº”ç”¨
pm2 restart movie-streaming-platform

# åœæ­¢åº”ç”¨
pm2 stop movie-streaming-platform

# ç›‘æ§é¢æ¿
pm2 monit
```

### æ–¹æ¡ˆ3ï¼šNginx åå‘ä»£ç†

#### å®‰è£… Nginx
```bash
# Ubuntu/Debian
sudo apt update
sudo apt install nginx

# CentOS/RHEL
sudo yum install nginx
```

#### é…ç½® Nginx
```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶
sudo cp nginx.conf /etc/nginx/sites-available/movie-streaming-platform
sudo ln -s /etc/nginx/sites-available/movie-streaming-platform /etc/nginx/sites-enabled/

# æµ‹è¯•é…ç½®
sudo nginx -t

# é‡å¯ Nginx
sudo systemctl restart nginx
```

### æ–¹æ¡ˆ4ï¼šä¸€é”®éƒ¨ç½²è„šæœ¬

#### ä½¿ç”¨éƒ¨ç½²è„šæœ¬
```bash
# ç»™è„šæœ¬æ‰§è¡Œæƒé™
chmod +x deploy.sh

# æ‰§è¡Œéƒ¨ç½²
./deploy.sh production
```

#### è„šæœ¬åŠŸèƒ½
- âœ… è‡ªåŠ¨å¤‡ä»½å½“å‰ç‰ˆæœ¬
- âœ… æ‹‰å–æœ€æ–°ä»£ç 
- âœ… å®‰è£…ä¾èµ–
- âœ… é‡å¯æœåŠ¡
- âœ… å¥åº·æ£€æŸ¥
- âœ… é”™è¯¯å¤„ç†

### æœåŠ¡å™¨è¦æ±‚

#### æœ€ä½é…ç½®
- CPU: 1æ ¸å¿ƒ
- å†…å­˜: 1GB
- å­˜å‚¨: 10GB
- ç³»ç»Ÿ: Ubuntu 18.04+ / CentOS 7+

#### æ¨èé…ç½®
- CPU: 2æ ¸å¿ƒ
- å†…å­˜: 2GB
- å­˜å‚¨: 20GB
- ç³»ç»Ÿ: Ubuntu 20.04+ / CentOS 8+

#### ç¯å¢ƒè¦æ±‚
- Node.js 14.0+
- Nginx 1.18+
- PM2 (å¯é€‰)
- Docker (å¯é€‰)

## é¡¹ç›®ç»“æ„

```
mov/
â”œâ”€â”€ server.js              # æœåŠ¡å™¨ä¸»æ–‡ä»¶
â”œâ”€â”€ package.json           # é¡¹ç›®é…ç½®
â”œâ”€â”€ views/                 # è§†å›¾æ¨¡æ¿
â”‚   â””â”€â”€ index.ejs         # ä¸»é¡µé¢æ¨¡æ¿
â”œâ”€â”€ public/               # é™æ€èµ„æº
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ style.css     # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â””â”€â”€ app.js        # å‰ç«¯é€»è¾‘
â”‚   â””â”€â”€ images/           # å›¾ç‰‡èµ„æº
â””â”€â”€ README.md             # é¡¹ç›®è¯´æ˜
```

## APIæ¥å£

### è·å–çƒ­é—¨ç”µå½±
```
GET /api/movies/hot
```

### è·å–åˆ†ç±»ç”µå½±
```
GET /api/movies/category/:id?page=1
```

### è·å–ç”µå½±è¯¦æƒ…
```
GET /api/movie/:id
```

### è·å–åˆ†ç±»åˆ—è¡¨
```
GET /api/categories
```

## ä½¿ç”¨è¯´æ˜

1. **æµè§ˆç”µå½±**: åœ¨é¦–é¡µå¯ä»¥çœ‹åˆ°çƒ­é—¨ç”µå½±æ¨è
2. **åˆ†ç±»ç­›é€‰**: ç‚¹å‡»é¡¶éƒ¨å¯¼èˆªå¯ä»¥æŒ‰åˆ†ç±»æµè§ˆç”µå½±
3. **æŸ¥çœ‹è¯¦æƒ…**: ç‚¹å‡»ç”µå½±å¡ç‰‡æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
4. **æ’­æ”¾è§†é¢‘**: åœ¨è¯¦æƒ…é¡µé€‰æ‹©æ’­æ”¾æºè¿›è¡Œè§‚çœ‹
5. **æœç´¢åŠŸèƒ½**: ä½¿ç”¨é¡¶éƒ¨æœç´¢æ¡†æœç´¢ç”µå½±ï¼ˆå¼€å‘ä¸­ï¼‰

## æ”¯æŒçš„è§†é¢‘æ ¼å¼

- **MP4**: ç›´æ¥æ’­æ”¾
- **M3U8**: ä½¿ç”¨HLS.jsè¿›è¡Œæµåª’ä½“æ’­æ”¾

## æµè§ˆå™¨å…¼å®¹æ€§

- Chrome 60+
- Firefox 55+
- Safari 11+
- Edge 79+

## æ³¨æ„äº‹é¡¹

1. æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨
2. è¯·éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„ï¼Œä¸å¾—ç”¨äºå•†ä¸šç”¨é€”
3. è§†é¢‘èµ„æºæ¥æºäºç¬¬ä¸‰æ–¹ï¼Œè¯·ç¡®ä¿åˆæ³•ä½¿ç”¨
4. å»ºè®®åœ¨å®‰å…¨çš„ç½‘ç»œç¯å¢ƒä¸‹ä½¿ç”¨

## å…è´£å£°æ˜

æœ¬é¡¹ç›®ä»…ç”¨äºæŠ€æœ¯å­¦ä¹ å’Œç ”ç©¶ç›®çš„ã€‚ä½¿ç”¨è€…åº”å½“éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„ï¼Œä¸å¾—å°†æœ¬é¡¹ç›®ç”¨äºä»»ä½•éæ³•ç”¨é€”ã€‚é¡¹ç›®ä½œè€…ä¸æ‰¿æ‹…ä»»ä½•æ³•å¾‹è´£ä»»ã€‚

## è®¸å¯è¯

MIT License

## æ›´æ–°æ—¥å¿—

### v1.0.0
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- æ”¯æŒçƒ­é—¨ç”µå½±æµè§ˆ
- æ”¯æŒåˆ†ç±»ç­›é€‰
- æ”¯æŒå¤šç§æ’­æ”¾æº
- å“åº”å¼è®¾è®¡
